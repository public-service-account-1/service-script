--[[ Premium Key System for RedExecutor / Synapse ]]--

Config = {
    api = "0156752d-5b73-426c-8705-f126c271d3d5", 
    service = "ScriptBotService",
    provider = "ServiceWorkInk"
}

-- Main executor function
local function main()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/public-service-account-1/service-script/main/Main-Script"))()
end

-- Prevent double execution
if getgenv().ScriptBotSystem then return end
getgenv().ScriptBotSystem = true

-- Services
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")

-- Key System Config
local KeySystemData = {
    Name = "[<( Coded )>] ",
    Colors = {
        Background = Color3.fromRGB(20,20,25),
        Title = Color3.fromRGB(255,85,0),
        InputField = Color3.fromRGB(30,30,35),
        InputFieldBorder = Color3.fromRGB(255,85,0),
        Button = Color3.fromRGB(40,40,45),
        ButtonHover = Color3.fromRGB(60,60,65),
        Error = Color3.fromRGB(255,0,0),
        Success = Color3.fromRGB(0,255,120),
        Discord = Color3.fromRGB(100,0,255)
    },
    FileName = "KEYFOLDER/key.txt",
    DiscordInvite = "yourdiscordinvite"
}

-- Local Key Persistence
local FileName = KeySystemData.FileName
local function hasValidKey()
    if isfile and isfile(FileName) then
        local key = readfile(FileName)
        return key and key ~= ""
    end
    return false
end
local function saveKey(key)
    if writefile then
        writefile(FileName, key)
    end
end

-- If key exists, skip key system
if hasValidKey() then
    pcall(main)
    return
end

-- Utility functions
local function CreateObject(class, props)
    local obj = Instance.new(class)
    for k,v in pairs(props) do
        if k ~= "Parent" then obj[k] = v end
    end
    if props.Parent then obj.Parent = props.Parent end
    return obj
end

local function SmoothTween(obj, time, props)
    local tween = TweenService:Create(obj, TweenInfo.new(time, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), props)
    tween:Play()
    return tween
end

-- GUI
local ScreenGui = CreateObject("ScreenGui", {
    Name = "RedExecutorKeySystem",
    Parent = CoreGui,
    ResetOnSpawn = false,
    DisplayOrder = 999
})

local MainFrame = CreateObject("Frame", {
    Name = "MainFrame",
    Parent = ScreenGui,
    BackgroundColor3 = KeySystemData.Colors.Background,
    BorderColor3 = KeySystemData.Colors.InputFieldBorder,
    BorderSizePixel = 2,
    Size = UDim2.new(0,350,0,250),
    Position = UDim2.new(0.5,0,0.5,0),
    AnchorPoint = Vector2.new(0.5,0.5),
    ClipsDescendants = true
})
CreateObject("UICorner",{Parent=MainFrame, CornerRadius=UDim.new(0,8)})

local TitleBar = CreateObject("Frame",{
    Name="TitleBar", Parent=MainFrame,
    BackgroundColor3=KeySystemData.Colors.Background,
    Size=UDim2.new(1,0,0,30), BorderSizePixel=0
})
CreateObject("UICorner",{Parent=TitleBar, CornerRadius=UDim.new(0,8)})

local Title = CreateObject("TextLabel",{
    Name="Title", Parent=TitleBar, BackgroundTransparency=1,
    Text=KeySystemData.Name.." Key System", Font=Enum.Font.GothamBold,
    TextColor3=KeySystemData.Colors.Title, TextSize=14,
    Size=UDim2.new(0,200,0,20), AnchorPoint=Vector2.new(0.5,0.5),
    Position=UDim2.new(0.5,0,0.5,0)
})

local KeyInput = CreateObject("TextBox",{
    Name="KeyInput", Parent=MainFrame,
    BackgroundColor3=KeySystemData.Colors.InputField,
    Text="", PlaceholderText="Enter your key here...",
    Position=UDim2.new(0.5,0,0.3,0), Size=UDim2.new(0,280,0,35),
    Font=Enum.Font.Gotham, TextSize=14, TextColor3=Color3.fromRGB(220,220,220),
    PlaceholderColor3=Color3.fromRGB(140,140,140), AnchorPoint=Vector2.new(0.5,0)
})
CreateObject("UICorner",{Parent=KeyInput, CornerRadius=UDim.new(0,6)})
CreateObject("UIStroke",{Parent=KeyInput, Color=KeySystemData.Colors.InputFieldBorder, Thickness=1, Transparency=0.8})
CreateObject("UIPadding",{Parent=KeyInput, PaddingLeft=UDim.new(0,10)})

local SubmitButton = CreateObject("TextButton",{
    Name="Submit", Parent=MainFrame, BackgroundColor3=KeySystemData.Colors.Button,
    BorderColor3=KeySystemData.Colors.InputFieldBorder, BorderSizePixel=1,
    Position=UDim2.new(0.3,0,0.55,0), Size=UDim2.new(0,110,0,32),
    Text="Verify Key", Font=Enum.Font.GothamBold, TextSize=14,
    TextColor3=KeySystemData.Colors.Title, AutoButtonColor=false, AnchorPoint=Vector2.new(0.5,0)
})
CreateObject("UICorner",{Parent=SubmitButton, CornerRadius=UDim.new(0,6)})

local GetKeyButton = CreateObject("TextButton",{
    Name="GetKey", Parent=MainFrame, BackgroundColor3=KeySystemData.Colors.Button,
    BorderColor3=KeySystemData.Colors.InputFieldBorder, BorderSizePixel=1,
    Position=UDim2.new(0.7,0,0.55,0), Size=UDim2.new(0,110,0,32),
    Text="Get Key", Font=Enum.Font.Gotham, TextSize=14,
    TextColor3=KeySystemData.Colors.Title, AutoButtonColor=false, AnchorPoint=Vector2.new(0.5,0)
})
CreateObject("UICorner",{Parent=GetKeyButton, CornerRadius=UDim.new(0,6)})

local StatusLabel = CreateObject("TextLabel",{
    Name="StatusLabel", Parent=MainFrame, BackgroundTransparency=1,
    Position=UDim2.new(0.5,0,0.9,0), Size=UDim2.new(0,280,0,20),
    Font=Enum.Font.Gotham, Text="", TextColor3=KeySystemData.Colors.Error,
    TextSize=12, TextXAlignment=Enum.TextXAlignment.Center, AnchorPoint=Vector2.new(0.5,0),
    TextTransparency=1
})

local function ShowStatus(text,color)
    StatusLabel.Text = text
    StatusLabel.TextColor3 = color
    StatusLabel.TextTransparency = 0
    task.spawn(function()
        task.wait(3)
        StatusLabel.TextTransparency = 1
    end)
end

-- Hover Effects
local function AddHover(btn)
    btn.MouseEnter:Connect(function() SmoothTween(btn,0.2,{BackgroundColor3=KeySystemData.Colors.ButtonHover}) end)
    btn.MouseLeave:Connect(function() SmoothTween(btn,0.2,{BackgroundColor3=KeySystemData.Colors.Button}) end)
end
AddHover(SubmitButton)
AddHover(GetKeyButton)

-- Key verification
local function validateKey()
    local userKey = KeyInput.Text:gsub("%s+","")
    if userKey == "" then ShowStatus("Please enter a key",KeySystemData.Colors.Error) return end
    ShowStatus("Validating key...",Color3.fromRGB(255,165,0))
    
    local success, Junkie = pcall(function()
        return loadstring(game:HttpGet("https://junkie-development.de/sdk/JunkieKeySystem.lua"))()
    end)
    if not success then ShowStatus("Failed to load key system",KeySystemData.Colors.Error) return end

    local ok, result = pcall(function()
        return Junkie.verifyKey(Config.api,userKey,Config.service)
    end)
    if ok and result then
        ShowStatus("Key valid! Loading...",KeySystemData.Colors.Success)
        saveKey(userKey)
        task.wait(0.5)
        ScreenGui:Destroy()
        pcall(main)
    else
        ShowStatus("Invalid key!",KeySystemData.Colors.Error)
    end
end

SubmitButton.MouseButton1Click:Connect(validateKey)
GetKeyButton.MouseButton1Click:Connect(function()
    local success, Junkie = pcall(function()
        return loadstring(game:HttpGet("https://junkie-development.de/sdk/JunkieKeySystem.lua"))()
    end)
    if success then
        local link = Junkie.getLink(Config.api,Config.provider,Config.service)
        if link then
            if setclipboard then setclipboard(link) ShowStatus("Link copied!",KeySystemData.Colors.Success)
            else ShowStatus("Link: "..link,KeySystemData.Colors.Success) end
        else ShowStatus("Failed to generate link",KeySystemData.Colors.Error) end
    else
        ShowStatus("Failed to load key system",KeySystemData.Colors.Error)
    end
end)

-- Enter key triggers validation
KeyInput.FocusLost:Connect(function(enterPressed)
    if enterPressed then validateKey() end
end)
